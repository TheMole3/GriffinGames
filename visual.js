const config = require("./config.json")

const mongojs = require('mongojs')
    , db = mongojs(config.dbConnect, ['GriffinGames']) // Import database TheMole


let visualServer = (app, io) => {

    that = {
        update: () => {
            db.GriffinGames.find({}, {name:1, alive:1, _id:1}, (error, docs) => {
                io.emit("update", docs)
            })
        },
        fakeUpdate:() => {
            
            for (let index = 0; index < that.names.length; index++) {
                const element = that.names[index];
                element.id = index
            }
            that.names[Math.floor(Math.random()*that.names.length)].alive = false
            io.emit("update", that.names)
        },
        names: [{name: "Scott Smith", alive: true},{name: "Anthony Odonnell", alive: true},{name: "Jason Brown", alive: true},{name: "Daniel Cannon", alive: true},{name: "Janet Snyder", alive: true},{name: "Caleb Davies", alive: true},{name: "Rhonda Obrien", alive: true},{name: "Carol Martinez", alive: true},{name: "Lauren Smith", alive: true},{name: "Carl Schmidt", alive: true},{name: "Sarah Rodriguez", alive: true},{name: "Jamie Brooks", alive: true},{name: "William Briggs", alive: true},{name: "Jenny Christian", alive: true},{name: "Alejandro Owens", alive: true},{name: "Heather Cordova", alive: true},{name: "Eric Jenkins", alive: true},{name: "Sean Keith", alive: true},{name: "Anne Vazquez", alive: true},{name: "Emily Sutton MD", alive: true},{name: "Joel Cooper", alive: true},{name: "Robert Ruiz", alive: true},{name: "Jenna Brown", alive: true},{name: "Nancy Scott", alive: true},{name: "Erin Jones", alive: true},{name: "Diana Rodriguez", alive: true},{name: "Patricia Martinez", alive: true},{name: "Nicholas Hampton", alive: true},{name: "Thomas Dunn", alive: true},{name: "Casey Carpenter DDS", alive: true},{name: "Melanie Edwards", alive: true},{name: "Jason Baker", alive: true},{name: "Kathleen Roberts", alive: true},{name: "Timothy Huynh", alive: true},{name: "Debbie Barr", alive: true},{name: "Samantha Stephens", alive: true},{name: "Joe Villanueva", alive: true},{name: "Kenneth Daniels", alive: true},{name: "Danielle Howard", alive: true},{name: "Douglas Rodriguez DDS", alive: true},{name: "Jeanette Ortiz", alive: true},{name: "Christina Vazquez", alive: true},{name: "Nicole Simmons", alive: true},{name: "Michelle Thomas", alive: true},{name: "Ebony Gregory", alive: true},{name: "Patrick Garrett", alive: true},{name: "Jennifer Wade", alive: true},{name: "Tyler Wells", alive: true},{name: "Amanda Daniels", alive: true},{name: "Dana Luna", alive: true},{name: "Kathryn Caldwell", alive: true},{name: "Kayla Harper MD", alive: true},{name: "Jonathan Cain", alive: true},{name: "Christine Davis", alive: true},{name: "Joseph Daniel", alive: true},{name: "Jodi Ford", alive: true},{name: "Corey Elliott", alive: true},{name: "Carolyn Roberts", alive: true},{name: "Ricky Wong", alive: true},{name: "Beth Sims", alive: true},{name: "Kyle Jones", alive: true},{name: "Sarah Jones", alive: true},{name: "Kayla Guerra", alive: true},{name: "Sabrina Jackson DDS", alive: true},{name: "Christopher Davis", alive: true},{name: "Haley Zimmerman", alive: true},{name: "Christine Turner", alive: true},{name: "Hannah Reyes", alive: true},{name: "Lori Thomas", alive: true},{name: "Tonya King", alive: true},{name: "Candice Monroe", alive: true},{name: "Dominic Johnson", alive: true},{name: "Brett Long", alive: true},{name: "Ashley Anthony", alive: true},{name: "Scott Ortega", alive: true},{name: "Edwin Beltran", alive: true},{name: "Johnny Gonzales", alive: true},{name: "Shaun Hamilton", alive: true},{name: "Laurie Graves", alive: true},{name: "Kimberly Tucker", alive: true},{name: "Christine Hanson", alive: true},{name: "Zachary Meyers", alive: true},{name: "Randy Franklin", alive: true},{name: "Debra Nichols", alive: true},{name: "Jennifer Woods", alive: true},{name: "Scott Thomas", alive: true},{name: "Jose Harper", alive: true},{name: "Dr. Kathleen", alive: true},{name: "Donald Perry", alive: true},{name: "Alison Anderson", alive: true},{name: "Danielle Cole", alive: true},{name: "Travis Kim", alive: true},{name: "Jessica Collins", alive: true},{name: "Kim Lee", alive: true},{name: "Tracy King", alive: true},{name: "Kimberly Clark", alive: true},{name: "Kim Orozco", alive: true},{name: "Christopher Berry", alive: true},{name: "Robert Carlson", alive: true},{name: "Virginia Riley", alive: true},{name: "Bryan Barrett", alive: true},{name: "Amanda Scott", alive: true},{name: "Tony Cuevas", alive: true},{name: "Dylan Armstrong", alive: true},{name: "Nicholas Robinson", alive: true},{name: "Jared Simmons", alive: true},{name: "Richard Carpenter", alive: true},{name: "Eric Holt", alive: true},{name: "Cassidy Miller", alive: true},{name: "Stephanie Brown", alive: true},{name: "Travis Bryan", alive: true},{name: "Timothy Sanchez", alive: true},{name: "Adam King", alive: true},{name: "Kenneth Thompson", alive: true},{name: "Destiny Wilson", alive: true},{name: "Barbara Sweeney", alive: true},{name: "Jason Shannon", alive: true},{name: "Paul Rodriguez", alive: true},{name: "Jessica Scott", alive: true},{name: "Michael Lopez", alive: true},{name: "Ryan Allen", alive: true},{name: "Lisa Lamb", alive: true},{name: "Nicole Johnson", alive: true},{name: "Dawn Flowers", alive: true},{name: "Tamara Ramos", alive: true},{name: "Mercedes Ortega", alive: true},{name: "Julia Dunn", alive: true},{name: "Maria Chambers", alive: true},{name: "Kenneth Chang", alive: true},{name: "Mr. Christopher Allen Jr.", alive: true},{name: "Joseph Espinoza", alive: true},{name: "Mr. Ryan Jones", alive: true},{name: "Jason Nguyen", alive: true},{name: "Lisa Horne", alive: true},{name: "Michelle Johnson", alive: true},{name: "Christopher Williams", alive: true},{name: "James Ramos", alive: true},{name: "Melissa Taylor", alive: true},{name: "Mr. Jonathan Nunez MD", alive: true},{name: "James Brown", alive: true},{name: "John Johns", alive: true},{name: "Raymond Blair", alive: true},{name: "Audrey Thompson", alive: true},{name: "James Crosby", alive: true},{name: "Lynn Frederick", alive: true},{name: "Kent Tran", alive: true},{name: "David Fitzpatrick", alive: true},{name: "Bryan Jones", alive: true},{name: "Karen Allen", alive: true},{name: "Jennifer Moyer", alive: true},{name: "Matthew Reyes", alive: true},{name: "Jennifer Bates", alive: true},{name: "Heather Hayes", alive: true},{name: "Dana Reed", alive: true},{name: "William Hartman", alive: true},{name: "Devin Brown", alive: true},{name: "Destiny Colon", alive: true},{name: "Dennis Reyes", alive: true},{name: "Haley King", alive: true},{name: "Mrs. Sarah Hernandez", alive: true},{name: "Emily Howe", alive: true},{name: "Brian Gutierrez", alive: true},{name: "Sara Adams", alive: true},{name: "Kimberly Williamson", alive: true},{name: "Michelle Allen", alive: true},{name: "Christopher Wagner", alive: true},{name: "Karen Clark", alive: true},{name: "Samantha Fisher", alive: true},{name: "Billy Green", alive: true},{name: "Zachary Allison", alive: true},{name: "Rickey Lopez", alive: true},{name: "Lisa Garcia", alive: true},{name: "Chloe Johnson", alive: true},{name: "Melanie Neal", alive: true},{name: "Justin Reid", alive: true},{name: "April Singleton", alive: true},{name: "Erin Weiss", alive: true},{name: "Brianna Lang", alive: true},{name: "Michael Love", alive: true},{name: "Stephen Gonzalez", alive: true},{name: "Theresa Daniel", alive: true},{name: "Emily Ramirez", alive: true},{name: "Sean Wilson", alive: true},{name: "George Smith", alive: true},{name: "Shawn Edwards", alive: true},{name: "Crystal Jacobs", alive: true},{name: "Jonathon Harvey", alive: true},{name: "Tiffany Burton", alive: true},{name: "Frank Garcia", alive: true},{name: "Jacob Fisher", alive: true},{name: "Joshua Cooley", alive: true},{name: "Frank Myers", alive: true},{name: "Steven Ramirez", alive: true},{name: "Kevin Johnson", alive: true},{name: "Chelsea Contreras", alive: true},{name: "Denise Butler DDS", alive: true},{name: "Elizabeth Medina", alive: true},{name: "Tiffany Patrick", alive: true},{name: "Travis Villanueva", alive: true},{name: "Tina Palmer", alive: true},{name: "Judy Fischer", alive: true},{name: "Ariana Brown", alive: true},{name: "Susan Gonzalez", alive: true},{name: "Robert Bailey", alive: true},{name: "Travis Ramirez", alive: true},{name: "Caitlin Knapp", alive: true},{name: "Robert Rodgers", alive: true},{name: "Jennifer Hines", alive: true},{name: "Patricia Nguyen", alive: true},{name: "Lisa Smith", alive: true},{name: "John Green", alive: true},{name: "Ricardo Mendez", alive: true},{name: "Shane Hudson MD", alive: true},{name: "Holly Wilson", alive: true},{name: "Walter Richmond", alive: true},{name: "Michael Miller", alive: true},{name: "Hannah Walker", alive: true},{name: "David Murray", alive: true},{name: "Jessica Cardenas", alive: true},{name: "Jesse Williams", alive: true},{name: "Jamie Gonzalez", alive: true},{name: "Anne Harris", alive: true},{name: "Tammy Crawford", alive: true},{name: "Kimberly Mcpherson", alive: true},{name: "Wendy James", alive: true},{name: "Virginia Murphy", alive: true},{name: "Dominique George", alive: true},{name: "Mrs. Tracy Smith DVM", alive: true},{name: "Mark Brown", alive: true},{name: "Marc Herrera", alive: true},{name: "Joanna Rush", alive: true},{name: "Brad Robertson", alive: true},{name: "Wayne Aguilar", alive: true},{name: "Cheryl Ward", alive: true},{name: "Shelby Bailey", alive: true},{name: "Stacy Miller MD", alive: true},{name: "Michael Spencer", alive: true},{name: "Ryan Hunt", alive: true},{name: "Denise Wright", alive: true},{name: "Cynthia Turner", alive: true},{name: "Tommy Hammond", alive: true},{name: "Nancy Thomas", alive: true},{name: "Sarah Garcia", alive: true},{name: "Justin White", alive: true},{name: "Eric Garcia", alive: true},{name: "Jose Nichols", alive: true},{name: "Tonya Thompson", alive: true},{name: "Melissa Griffin", alive: true},{name: "Heather Harris", alive: true},{name: "Jennifer Thomas", alive: true},{name: "Wayne Frost", alive: true},{name: "Jason Jackson DVM", alive: true},{name: "Sierra Herman", alive: true},{name: "Danny Best", alive: true},{name: "Patricia Luna", alive: true},{name: "Kirk Miller", alive: true},{name: "Zachary Campbell", alive: true},{name: "Robert Walter", alive: true},{name: "Julie Lopez", alive: true},{name: "John Smith", alive: true},{name: "Haley Hendrix", alive: true},{name: "Valerie Perez", alive: true},{name: "Destiny Cruz", alive: true},{name: "Jennifer Holmes", alive: true},{name: "David Smith", alive: true},{name: "Steven Oliver", alive: true},{name: "Maria Wilson", alive: true},{name: "Gina Coffey", alive: true},{name: "Thomas Thompson", alive: true},{name: "Johnathan Dean", alive: true},{name: "Veronica Schneider", alive: true},{name: "Jessica Lee", alive: true},{name: "Katherine Mitchell", alive: true},{name: "Nicole Stephens", alive: true},{name: "Christopher Perry", alive: true},{name: "Jared Garcia", alive: true},{name: "Amanda Blair", alive: true},{name: "Juan Mcbride", alive: true},{name: "Teresa Bernard", alive: true},{name: "Vickie Aguirre", alive: true},{name: "Megan Lutz", alive: true},{name: "Jeremy Clark", alive: true},{name: "Kelly Russell", alive: true},{name: "Mark Rodgers", alive: true},{name: "Jennifer Griffin", alive: true},{name: "Zachary Thomas", alive: true},{name: "Jacqueline Fritz", alive: true},{name: "Justin Cortez", alive: true},{name: "Laura Russell", alive: true},{name: "Thomas Allen", alive: true},{name: "Tammy Harrell", alive: true},{name: "Lacey Thompson", alive: true},{name: "Peter Woodward", alive: true},{name: "Matthew Patel", alive: true},{name: "Anthony Anderson", alive: true},{name: "Steven Wallace DDS", alive: true},{name: "Pamela Adkins", alive: true},{name: "Brooke Mcconnell", alive: true},{name: "James Johnson", alive: true},{name: "Marcus Kennedy", alive: true},{name: "Kimberly Frost", alive: true},{name: "David Lane", alive: true},{name: "Ashley Padilla", alive: true},{name: "Julia Peterson", alive: true},{name: "Samuel Cantu", alive: true},{name: "Michelle Jacobs", alive: true},{name: "Tyler White", alive: true},{name: "Melissa Hahn", alive: true},{name: "Edward Foley", alive: true},{name: "Lisa Bishop", alive: true},{name: "Tiffany Martinez", alive: true},{name: "Carlos Fernandez", alive: true},{name: "Christopher Allen", alive: true},{name: "Rita Miller", alive: true},{name: "Jill Jennings", alive: true},{name: "John Ortiz", alive: true},{name: "Alejandra White", alive: true},{name: "Gloria Ortiz", alive: true},{name: "Hannah Fernandez", alive: true},{name: "Nicholas Oneal", alive: true},{name: "Michael Cole", alive: true},{name: "Carol Daniels", alive: true},{name: "Charles Kelly", alive: true},{name: "Kathryn Wilkins", alive: true},{name: "Sarah Butler", alive: true},{name: "Robert Hernandez", alive: true},{name: "Lauren Green", alive: true},{name: "Garrett Flynn", alive: true},{name: "Michael Fox", alive: true},{name: "Anthony Miller", alive: true},{name: "Scott Osborne", alive: true},{name: "Stephanie Cooper", alive: true},{name: "Christina Dunlap", alive: true},{name: "Victor Tate", alive: true},{name: "Robert Ford", alive: true},{name: "Michael Murphy", alive: true},{name: "Kimberly Owens", alive: true},{name: "Pamela Garcia", alive: true},{name: "Carrie Cummings", alive: true},{name: "Mrs. Melinda Erickson", alive: true},{name: "Sara Campos", alive: true},{name: "Kristina Mcpherson", alive: true},{name: "John Smith", alive: true},{name: "Cheryl Frost", alive: true},{name: "Ryan Martinez", alive: true},{name: "Megan Murphy", alive: true},{name: "Olivia Ibarra", alive: true},{name: "Samantha Roman", alive: true},{name: "Dominic Adkins", alive: true},{name: "Christopher Smith", alive: true},{name: "Anne Hernandez", alive: true},{name: "Connor Torres", alive: true},{name: "Melanie Reed", alive: true},{name: "Jason Moore", alive: true},{name: "Susan Soto", alive: true},{name: "Brian King", alive: true},{name: "Donna Nelson", alive: true},{name: "Austin Pope", alive: true},{name: "Joel Hatfield", alive: true},{name: "Sarah Lee", alive: true},{name: "Paul Duke", alive: true},{name: "Eileen Jones", alive: true},{name: "Jessica Rios", alive: true},{name: "Mark Wang", alive: true},{name: "Tanner Hebert", alive: true},{name: "Andrea Garcia", alive: true},{name: "Mrs. Haley White MD", alive: true},{name: "Victoria Velez", alive: true},{name: "Jason Hartman", alive: true},{name: "Emily Phillips", alive: true},{name: "Lindsay Berry", alive: true},{name: "Beth Price", alive: true},{name: "William Edwards", alive: true},{name: "John Herring", alive: true},{name: "Karen Le", alive: true},{name: "Rebecca Figueroa", alive: true},{name: "Yvette Diaz", alive: true},{name: "William Mcintosh", alive: true},{name: "Justin Brennan", alive: true},{name: "Sarah Roberts", alive: true},{name: "Carlos Schmidt", alive: true},{name: "Janice Garcia", alive: true},{name: "Mary Hart", alive: true},{name: "Marcus Wells", alive: true},{name: "Hannah Miller", alive: true},{name: "Brian Moody", alive: true},{name: "Joseph Moore", alive: true},{name: "Jacqueline Guzman", alive: true},{name: "Katherine Richards", alive: true},{name: "Lisa Williams", alive: true},{name: "William Stevens", alive: true},{name: "Gregory Torres", alive: true},{name: "Samuel Malone", alive: true},{name: "Patrick Gray", alive: true},{name: "Tabitha Allen", alive: true},{name: "Patricia Jordan MD", alive: true},{name: "Amanda Weeks", alive: true},{name: "David Kramer", alive: true}]
    }

    io.on('connection', function(socket) {
    })
    setInterval(that.fakeUpdate, 2000)


    return that
}

module.exports = visualServer
